{"ast":null,"code":"const ADD_MESSAGE = 'ADD-MESSAGE';\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE-NEW-MESSAGE-TEXT';\nlet initialState = {\n  newMessageText: '',\n  messages: [{\n    id: 1,\n    message: 'Hi'\n  }, {\n    id: 2,\n    message: 'How is your it-incubator?'\n  }, {\n    id: 3,\n    message: 'Yo'\n  }],\n  dialogs: [{\n    id: 1,\n    name: 'Andrey'\n  }, {\n    id: 2,\n    name: 'Ekaterina'\n  }, {\n    id: 3,\n    name: 'Dimych'\n  }, {\n    id: 4,\n    name: 'Alex'\n  }, {\n    id: 5,\n    name: 'Sergei'\n  }, {\n    id: 6,\n    name: 'Eva1'\n  }]\n};\nexport const dialogsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_MESSAGE:\n      const message = {\n        id: 4,\n        message: state.newMessageText\n      };\n      state.messages.push(message);\n      state.newMessageText = '';\n      return state;\n\n    case UPDATE_NEW_MESSAGE_TEXT:\n      state.newMessageText = action.newMessage;\n      return state;\n\n    default:\n      return state;\n  }\n};\nexport const addMessageActionCreator = () => {\n  return {\n    type: 'ADD-MESSAGE'\n  };\n};\nexport const updateNewMessageActionCreator = newMessage => {\n  return {\n    type: 'UPDATE-NEW-MESSAGE-TEXT',\n    newMessage: newMessage\n  };\n};","map":{"version":3,"names":["ADD_MESSAGE","UPDATE_NEW_MESSAGE_TEXT","initialState","newMessageText","messages","id","message","dialogs","name","dialogsReducer","state","action","type","push","newMessage","addMessageActionCreator","updateNewMessageActionCreator"],"sources":["/home/aka/Documents/social-network/src/redux/dialogs-reducer.ts"],"sourcesContent":["const ADD_MESSAGE = 'ADD-MESSAGE'\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE-NEW-MESSAGE-TEXT'\n\nexport type DialogsPageType = {\n    newMessageText: string\n    messages: Array<MessageType>\n    dialogs: Array<DialogType>\n}\n\ntype MessageType = {\n    id: number\n    message: string\n}\n\ntype DialogType = {\n    id: number\n    name: string\n}\n\n//Автоматическая типизация AC на основе возвращаемого значения функции AC\nexport type ActionsDialogsTypes = ReturnType<typeof addMessageActionCreator>\n    | ReturnType<typeof updateNewMessageActionCreator>\n\nlet initialState: DialogsPageType = {\n    newMessageText: '',\n    messages: [\n        {id: 1, message: 'Hi'},\n        {id: 2, message: 'How is your it-incubator?'},\n        {id: 3, message: 'Yo'},\n    ],\n    dialogs: [\n        {id: 1, name: 'Andrey'},\n        {id: 2, name: 'Ekaterina'},\n        {id: 3, name: 'Dimych'},\n        {id: 4, name: 'Alex'},\n        {id: 5, name: 'Sergei'},\n        {id: 6, name: 'Eva1'},\n    ]\n}\n\nexport const dialogsReducer = (state: DialogsPageType = initialState, action: ActionsDialogsTypes): DialogsPageType => {\n    switch (action.type) {\n        case ADD_MESSAGE:\n            const message = {id: 4, message: state.newMessageText}\n            state.messages.push(message)\n            state.newMessageText = ('')\n            return state\n        case UPDATE_NEW_MESSAGE_TEXT:\n            state.newMessageText = action.newMessage\n            return state\n        default:\n            return state\n    }\n}\n\nexport const addMessageActionCreator = () => {\n    return {\n        type: 'ADD-MESSAGE'\n    } as const\n}\nexport const updateNewMessageActionCreator = (newMessage: string) => {\n    return {\n        type: 'UPDATE-NEW-MESSAGE-TEXT', newMessage: newMessage\n    } as const\n}"],"mappings":"AAAA,MAAMA,WAAW,GAAG,aAApB;AACA,MAAMC,uBAAuB,GAAG,yBAAhC;AAsBA,IAAIC,YAA6B,GAAG;EAChCC,cAAc,EAAE,EADgB;EAEhCC,QAAQ,EAAE,CACN;IAACC,EAAE,EAAE,CAAL;IAAQC,OAAO,EAAE;EAAjB,CADM,EAEN;IAACD,EAAE,EAAE,CAAL;IAAQC,OAAO,EAAE;EAAjB,CAFM,EAGN;IAACD,EAAE,EAAE,CAAL;IAAQC,OAAO,EAAE;EAAjB,CAHM,CAFsB;EAOhCC,OAAO,EAAE,CACL;IAACF,EAAE,EAAE,CAAL;IAAQG,IAAI,EAAE;EAAd,CADK,EAEL;IAACH,EAAE,EAAE,CAAL;IAAQG,IAAI,EAAE;EAAd,CAFK,EAGL;IAACH,EAAE,EAAE,CAAL;IAAQG,IAAI,EAAE;EAAd,CAHK,EAIL;IAACH,EAAE,EAAE,CAAL;IAAQG,IAAI,EAAE;EAAd,CAJK,EAKL;IAACH,EAAE,EAAE,CAAL;IAAQG,IAAI,EAAE;EAAd,CALK,EAML;IAACH,EAAE,EAAE,CAAL;IAAQG,IAAI,EAAE;EAAd,CANK;AAPuB,CAApC;AAiBA,OAAO,MAAMC,cAAc,GAAG,YAAyF;EAAA,IAAxFC,KAAwF,uEAA/DR,YAA+D;EAAA,IAAjDS,MAAiD;;EACnH,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKZ,WAAL;MACI,MAAMM,OAAO,GAAG;QAACD,EAAE,EAAE,CAAL;QAAQC,OAAO,EAAEI,KAAK,CAACP;MAAvB,CAAhB;MACAO,KAAK,CAACN,QAAN,CAAeS,IAAf,CAAoBP,OAApB;MACAI,KAAK,CAACP,cAAN,GAAwB,EAAxB;MACA,OAAOO,KAAP;;IACJ,KAAKT,uBAAL;MACIS,KAAK,CAACP,cAAN,GAAuBQ,MAAM,CAACG,UAA9B;MACA,OAAOJ,KAAP;;IACJ;MACI,OAAOA,KAAP;EAVR;AAYH,CAbM;AAeP,OAAO,MAAMK,uBAAuB,GAAG,MAAM;EACzC,OAAO;IACHH,IAAI,EAAE;EADH,CAAP;AAGH,CAJM;AAKP,OAAO,MAAMI,6BAA6B,GAAIF,UAAD,IAAwB;EACjE,OAAO;IACHF,IAAI,EAAE,yBADH;IAC8BE,UAAU,EAAEA;EAD1C,CAAP;AAGH,CAJM"},"metadata":{},"sourceType":"module"}