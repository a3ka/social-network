{"ast":null,"code":"import profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\n\nlet rerenderEntireTree = state => {};\n\nexport const state = {\n  profilePage: {\n    posts: [{\n      id: 1,\n      message: 'Hi, how are you',\n      likesCount: 12\n    }, {\n      id: 2,\n      message: 'Its my first Post',\n      likesCount: 28\n    }, {\n      id: 3,\n      message: 'Whats your name',\n      likesCount: 57\n    }],\n    newPostText: ''\n  },\n  dialogsPage: {\n    dialogs: [{\n      id: 1,\n      name: 'Alex'\n    }, {\n      id: 2,\n      name: 'Serg'\n    }, {\n      id: 3,\n      name: 'Nata'\n    }, {\n      id: 4,\n      name: 'Lena'\n    }, {\n      id: 5,\n      name: 'Andrey'\n    }, {\n      id: 6,\n      name: 'Sasha'\n    }],\n    messages: [{\n      id: 1,\n      message: 'Hi'\n    }, {\n      id: 2,\n      message: 'How are you'\n    }, {\n      id: 3,\n      message: 'Yo'\n    }, {\n      id: 4,\n      message: 'LOL'\n    }, {\n      id: 5,\n      message: 'LOL2'\n    }],\n    newMessageText: ''\n  },\n  sidebar: {\n    any: []\n  },\n\n  _callSubscriber() {\n    console.log('State changed');\n  },\n\n  dispatch(action) {\n    this.profilePage = profileReducer(this.profilePage, action);\n    this.dialogsPage = dialogsReducer(this.dialogsPage, action);\n    this.sidebar = sidebarReducer(this.sidebar, action);\n\n    this._callSubscriber();\n  }\n\n};\nexport const addPost = () => {\n  let newPost = {\n    id: 4,\n    message: state.profilePage.newPostText,\n    likesCount: 0\n  };\n  state.profilePage.posts.push(newPost);\n  rerenderEntireTree(state);\n};\nexport const updateNewPostText = newText => {\n  state.profilePage.newPostText = newText;\n  rerenderEntireTree(state);\n};\nexport const addDialogMessage = () => {\n  let newMessage = {\n    id: 6,\n    message: state.dialogsPage.newMessageText\n  };\n  state.dialogsPage.messages.push(newMessage);\n  rerenderEntireTree(state);\n};\nexport const updateNewDialogMessageText = newMessage => {\n  state.dialogsPage.newMessageText = newMessage;\n  rerenderEntireTree(state);\n};\nexport const subsсribe = observer => {\n  rerenderEntireTree = observer;\n};","map":{"version":3,"sources":["/home/aka/Documents/social-network/src/redux/state.ts"],"names":["profileReducer","dialogsReducer","sidebarReducer","rerenderEntireTree","state","profilePage","posts","id","message","likesCount","newPostText","dialogsPage","dialogs","name","messages","newMessageText","sidebar","any","_callSubscriber","console","log","dispatch","action","addPost","newPost","push","updateNewPostText","newText","addDialogMessage","newMessage","updateNewDialogMessageText","subsсribe","observer"],"mappings":"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","sourcesContent":["import actions from \"redux-form/lib/actions\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\n\nlet rerenderEntireTree = (state: StateType) => {\n}\n\nexport type PostsType = {\n    id: number\n    message: string\n    likesCount: number\n}\n\nexport type DialogsType = {\n    id: number\n    name: string\n}\n\nexport type MessagesType = {\n    id: number\n    message: string\n}\n\nexport type ProfilePageType = {\n    posts: Array<PostsType>\n    newPostText: any\n}\n\nexport type DialogsPageType = {\n    dialogs: Array<DialogsType>\n    messages: Array<MessagesType>\n    newMessageText: any\n}\n\ntype sidebarType = {\n    any: any\n}\n\nexport type StateType = {\n    profilePage: ProfilePageType\n    dialogsPage: DialogsPageType\n    sidebar?: sidebarType\n    dispatch?: (state:any) => void\n    _callSubscriber: ()=> void\n}\n\nexport const state: StateType = {\n    profilePage: {\n        posts: [\n            {id: 1, message: 'Hi, how are you', likesCount: 12},\n            {id: 2, message: 'Its my first Post', likesCount: 28},\n            {id: 3, message: 'Whats your name', likesCount: 57}\n        ],\n        newPostText: ''\n    },\n    dialogsPage: {\n        dialogs: [\n            {id: 1, name: 'Alex'},\n            {id: 2, name: 'Serg'},\n            {id: 3, name: 'Nata'},\n            {id: 4, name: 'Lena'},\n            {id: 5, name: 'Andrey'},\n            {id: 6, name: 'Sasha'},\n        ],\n        messages: [\n            {id: 1, message: 'Hi'},\n            {id: 2, message: 'How are you'},\n            {id: 3, message: 'Yo'},\n            {id: 4, message: 'LOL'},\n            {id: 5, message: 'LOL2'},\n        ],\n        newMessageText: ''\n    },\n    sidebar: { any: []},\n    _callSubscriber() {\n        console.log('State changed')\n    }\n    ,\n    dispatch (action) {\n        this.profilePage = profileReducer(this.profilePage, action)\n        this.dialogsPage = dialogsReducer(this.dialogsPage, action)\n        this.sidebar = sidebarReducer(this.sidebar, action)\n\n        this._callSubscriber()\n    }\n}\n\nexport const addPost = () => {\n    let newPost =  {\n        id: 4,\n        message: state.profilePage.newPostText,\n        likesCount: 0\n    }\n    state.profilePage.posts.push(newPost);\n    rerenderEntireTree(state);\n}\n\nexport const updateNewPostText = (newText: string) => {\n    state.profilePage.newPostText = newText\n    rerenderEntireTree(state);\n}\n\nexport const addDialogMessage = () => {\n    let newMessage =  {\n        id: 6,\n        message: state.dialogsPage.newMessageText\n    }\n    state.dialogsPage.messages.push(newMessage)\n    rerenderEntireTree(state);\n}\n\nexport const updateNewDialogMessageText = (newMessage: string) => {\n    state.dialogsPage.newMessageText = newMessage\n    rerenderEntireTree(state);\n}\n\n\n\nexport const subsсribe = (observer: ()=>void) => {\n    rerenderEntireTree = observer\n}\n\n"]},"metadata":{},"sourceType":"module"}